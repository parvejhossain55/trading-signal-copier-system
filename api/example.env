# Application Configuration
VERSION=1.0.0
API_VERSION=v1

# Logging Configuration
LOG_LEVEL=info

# Application Mode: development, production, testing
MODE=development
SERVICE_NAME=copier

# Server Ports
HTTP_PORT=9090
GRPC_PORT=50001

# Health Check Configuration
HEALTH_CHECK_ROUTE=/health

# JWT Configuration
JWT_SECRET=SKooLLZ@!!22
SERVICE_BASE_PATH=/api/v1

# PostgreSQL Database Configuration
POSTGRES_HOST=postgres
POSTGRES_DATABASE=copier_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_PORT=5432
POSTGRES_SSL=false
POSTGRES_MAX_POOL_SIZE=10
POSTGRES_MIN_POOL_SIZE=1
POSTGRES_MAX_CONN_IDLE_TIME_MS=300000

# Redis Cache Configuration
REDIS_HOST=postgres
REDIS_PORT=6379
REDIS_PASSWORD=password
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE=5

# Kafka Configuration
KAFKA_ENABLE=true
KAFKA_BROKERS=postgres:9092
KAFKA_CLIENT_ID=copier-service
KAFKA_GROUP_ID=copier-service-group
KAFKA_TOPIC_EVENTS=copier-events
KAFKA_TOPIC_COMMANDS=copier-commands
KAFKA_CONSUMER_AUTO_OFFSET_RESET=earliest
KAFKA_CONSUMER_MAX_BYTES=1048576
KAFKA_PRODUCER_REQUIRED_ACKS=1
KAFKA_CONSUMER_MAX_WAIT_SECONDS=10
KAFKA_PRODUCER_MAX_ATTEMPTS=3

# NATS Configuration
NATS_URL=nats://postgres:4222
NATS_CLIENT_ID=copier-service
NATS_CLUSTER=test-cluster
NATS_SUBJECT_EVENTS=copier.events
NATS_SUBJECT_COMMANDS=copier.commands
NATS_SUBJECT_QUERIES=copier.queries
NATS_QUEUE_GROUP=copier-service-group


# External Services Configuration
# Example API Service 1
EXTERNAL_SERVICE_NAME=payment-api
EXTERNAL_SERVICE_BASE_URL=https://api.payment-service.com
EXTERNAL_SERVICE_TIMEOUT=30
EXTERNAL_SERVICE_API_KEY=your-payment-api-key
EXTERNAL_SERVICE_USERNAME=payment-copier
EXTERNAL_SERVICE_PASSWORD=payment-password

# Example API Service 2
EXTERNAL_SERVICE_NAME=notification-api
EXTERNAL_SERVICE_BASE_URL=https://api.notification-service.com
EXTERNAL_SERVICE_TIMEOUT=15
EXTERNAL_SERVICE_API_KEY=your-notification-api-key
EXTERNAL_SERVICE_USERNAME=notification-copier
EXTERNAL_SERVICE_PASSWORD=notification-password

# gRPC Services Configuration
# Example gRPC Service 1
GRPC_SERVICE_NAME=auth-service
GRPC_SERVICE_HOST=postgres
GRPC_SERVICE_PORT=50051
GRPC_SERVICE_TIMEOUT=30

# Example gRPC Service 2
GRPC_SERVICE_NAME=notification-service
GRPC_SERVICE_HOST=postgres
GRPC_SERVICE_PORT=50052
GRPC_SERVICE_TIMEOUT=15

# Legacy Database Configuration (for backward compatibility)
# These are optional if using the new POSTGRES_* configuration above
DATABASE_URL=postgres://postgres:password@postgres:5432/copier_db?sslmode=disable
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=copier_db

# Test Configuration (for integration and E2E tests)
TEST_DATABASE_URL=postgres://test_user:test_password@postgres:5432/test_copier_db
TEST_DB_HOST=postgres
TEST_DB_PORT=5432
TEST_DB_USER=test_user
TEST_DB_PASSWORD=test_password
TEST_DB_NAME=test_copier_db
TEST_MODE=true 